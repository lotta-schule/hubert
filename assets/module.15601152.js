import{u as z,_ as M,s as ee,a as te,b as re,c as ne,P as oe,L as ae,d as ue,e as ie,f as se}from"./motion.d92c51a2.js";import{r as s,R as g}from"./index.0f3430ae.js";import{c as P,i as D,a as _,k as ce,l as le}from"./module.597b474f.js";import{e as fe,g as de,$ as U,b as be,h as pe,f as ve}from"./module.9d0250e1.js";import{$ as me}from"./module.9c6536da.js";function j(){var e=s.exports.useRef(!1);return z(function(){return e.current=!0,function(){e.current=!1}},[]),e}function $e(){var e=j(),t=M(s.exports.useState(0),2),r=t[0],a=t[1],n=s.exports.useCallback(function(){e.current&&a(r+1)},[r]),c=s.exports.useCallback(function(){return ee.postRender(n)},[n]);return[c,r]}var I=function(e){var t=e.children,r=e.initial,a=e.isPresent,n=e.onExitComplete,c=e.custom,u=e.presenceAffectsLayout,i=te(xe),o=re(),l=s.exports.useMemo(function(){return{id:o,initial:r,isPresent:a,custom:c,onExitComplete:function(f){var d,m;i.set(f,!0);try{for(var $=ne(i.values()),b=$.next();!b.done;b=$.next()){var E=b.value;if(!E)return}}catch(y){d={error:y}}finally{try{b&&!b.done&&(m=$.return)&&m.call($)}finally{if(d)throw d.error}}n==null||n()},register:function(f){return i.set(f,!1),function(){return i.delete(f)}}}},u?void 0:[a]);return s.exports.useMemo(function(){i.forEach(function(f,d){return i.set(d,!1)})},[a]),s.exports.useEffect(function(){!a&&!i.size&&(n==null||n())},[a]),s.exports.createElement(oe.Provider,{value:l},t)};function xe(){return new Map}var C=function(e){return e.key||""};function Ee(e,t){e.forEach(function(r){var a=C(r);t.set(a,r)})}function he(e){var t=[];return s.exports.Children.forEach(e,function(r){s.exports.isValidElement(r)&&t.push(r)}),t}var Oe=function(e){var t=e.children,r=e.custom,a=e.initial,n=a===void 0?!0:a,c=e.onExitComplete,u=e.exitBeforeEnter,i=e.presenceAffectsLayout,o=i===void 0?!0:i,l=M($e(),1),f=l[0],d=s.exports.useContext(ae).forceRender;d&&(f=d);var m=j(),$=he(t),b=$,E=new Set,y=s.exports.useRef(b),w=s.exports.useRef(new Map).current,A=s.exports.useRef(!0);if(z(function(){A.current=!1,Ee($,w),y.current=b}),ue(function(){A.current=!0,w.clear(),E.clear()}),A.current)return s.exports.createElement(s.exports.Fragment,null,b.map(function(p){return s.exports.createElement(I,{key:C(p),isPresent:!0,initial:n?void 0:!1,presenceAffectsLayout:o},p)}));b=ie([],M(b),!1);for(var T=y.current.map(C),O=$.map(C),Y=T.length,R=0;R<Y;R++){var V=T[R];O.indexOf(V)===-1&&E.add(V)}return u&&E.size&&(b=[]),E.forEach(function(p){if(O.indexOf(p)===-1){var S=w.get(p);if(!!S){var J=T.indexOf(p),Q=function(){w.delete(p),E.delete(p);var X=y.current.findIndex(function(Z){return Z.key===p});if(y.current.splice(X,1),!E.size){if(y.current=$,m.current===!1)return;f(),c&&c()}};b.splice(J,0,s.exports.createElement(I,{key:C(S),isPresent:!1,onExitComplete:Q,custom:r,presenceAffectsLayout:o},S))}}}),b=b.map(function(p){var S=p.key;return E.has(S)?p:s.exports.createElement(I,{key:C(p),isPresent:!0,presenceAffectsLayout:o},p)}),se!=="production"&&u&&b.length>1&&console.warn("You're attempting to animate multiple children within AnimatePresence, but its exitBeforeEnter prop is set to true. This will lead to odd visual behaviour."),s.exports.createElement(s.exports.Fragment,null,E.size?b:b.map(function(p){return s.exports.cloneElement(p)}))};function G(e){if(ve()==="virtual"){let t=document.activeElement;ce(()=>{document.activeElement===t&&document.contains(e)&&D(e)})}else D(e)}function ye(e){if(!(e instanceof HTMLElement)&&!(e instanceof SVGElement))return!1;let{display:t,visibility:r}=e.style,a=t!=="none"&&r!=="hidden"&&r!=="collapse";if(a){const{getComputedStyle:n}=e.ownerDocument.defaultView;let{display:c,visibility:u}=n(e);a=c!=="none"&&u!=="hidden"&&u!=="collapse"}return a}function Fe(e,t){return!e.hasAttribute("hidden")&&(e.nodeName==="DETAILS"&&t&&t.nodeName!=="SUMMARY"?e.hasAttribute("open"):!0)}function q(e,t){return e.nodeName!=="#comment"&&ye(e)&&Fe(e,t)&&(!e.parentElement||q(e.parentElement,e))}const B=g.createContext(null);let v=null,L=new Map;function Ve(e){let{children:t,contain:r,restoreFocus:a,autoFocus:n}=e,c=s.exports.useRef(),u=s.exports.useRef(),i=s.exports.useRef([]),o=s.exports.useContext(B),l=o==null?void 0:o.scopeRef;P(()=>{let d=c.current.nextSibling,m=[];for(;d&&d!==u.current;)m.push(d),d=d.nextSibling;i.current=m},[t,l]),P(()=>(L.set(i,l),()=>{(i===v||k(i,v))&&(!l||L.has(l))&&(v=l),L.delete(i)}),[i,l]),Le(i,r),Pe(i,a,r),we(i,n);let f=Ce(i);return g.createElement(B.Provider,{value:{scopeRef:i,focusManager:f}},g.createElement("span",{"data-focus-scope-start":!0,hidden:!0,ref:c}),t,g.createElement("span",{"data-focus-scope-end":!0,hidden:!0,ref:u}))}function Ce(e){return{focusNext(t={}){let r=e.current,{from:a,tabbable:n,wrap:c,accept:u}=t,i=a||document.activeElement,o=r[0].previousElementSibling,l=F(N(r),{tabbable:n,accept:u},r);l.currentNode=x(i,r)?i:o;let f=l.nextNode();return!f&&c&&(l.currentNode=o,f=l.nextNode()),f&&h(f,!0),f},focusPrevious(t={}){let r=e.current,{from:a,tabbable:n,wrap:c,accept:u}=t,i=a||document.activeElement,o=r[r.length-1].nextElementSibling,l=F(N(r),{tabbable:n,accept:u},r);l.currentNode=x(i,r)?i:o;let f=l.previousNode();return!f&&c&&(l.currentNode=o,f=l.previousNode()),f&&h(f,!0),f},focusFirst(t={}){let r=e.current,{tabbable:a,accept:n}=t,c=F(N(r),{tabbable:a,accept:n},r);c.currentNode=r[0].previousElementSibling;let u=c.nextNode();return u&&h(u,!0),u},focusLast(t={}){let r=e.current,{tabbable:a,accept:n}=t,c=F(N(r),{tabbable:a,accept:n},r);c.currentNode=r[r.length-1].nextElementSibling;let u=c.previousNode();return u&&h(u,!0),u}}}const K=["input:not([disabled]):not([type=hidden])","select:not([disabled])","textarea:not([disabled])","button:not([disabled])","a[href]","area[href]","summary","iframe","object","embed","audio[controls]","video[controls]","[contenteditable]"],Ne=K.join(":not([hidden]),")+",[tabindex]:not([disabled]):not([hidden])";K.push('[tabindex]:not([tabindex="-1"]):not([disabled])');const ge=K.join(':not([hidden]):not([tabindex="-1"]),');function N(e){return e[0].parentElement}function Le(e,t){let r=s.exports.useRef(),a=s.exports.useRef(null);P(()=>{let n=e.current;if(!t){a.current&&(cancelAnimationFrame(a.current),a.current=null);return}let c=o=>{if(o.key!=="Tab"||o.altKey||o.ctrlKey||o.metaKey||e!==v)return;let l=document.activeElement,f=e.current;if(!x(l,f))return;let d=F(N(f),{tabbable:!0},f);d.currentNode=l;let m=o.shiftKey?d.previousNode():d.nextNode();m||(d.currentNode=o.shiftKey?f[f.length-1].nextElementSibling:f[0].previousElementSibling,m=o.shiftKey?d.previousNode():d.nextNode()),o.preventDefault(),m&&h(m,!0)},u=o=>{!v||k(v,e)?(v=e,r.current=o.target):e===v&&!W(o.target,e)?r.current?r.current.focus():v&&H(v.current):e===v&&(r.current=o.target)},i=o=>{a.current=requestAnimationFrame(()=>{e===v&&!W(document.activeElement,e)&&(v=e,r.current=o.target,r.current.focus())})};return document.addEventListener("keydown",c,!1),document.addEventListener("focusin",u,!1),n.forEach(o=>o.addEventListener("focusin",u,!1)),n.forEach(o=>o.addEventListener("focusout",i,!1)),()=>{document.removeEventListener("keydown",c,!1),document.removeEventListener("focusin",u,!1),n.forEach(o=>o.removeEventListener("focusin",u,!1)),n.forEach(o=>o.removeEventListener("focusout",i,!1))}},[e,t]),s.exports.useEffect(()=>()=>{a.current&&cancelAnimationFrame(a.current)},[a])}function Se(e){for(let t of L.keys())if(x(e,t.current))return!0;return!1}function x(e,t){return t.some(r=>r.contains(e))}function W(e,t){for(let r of L.keys())if((r===t||k(t,r))&&x(e,r.current))return!0;return!1}function k(e,t){let r=L.get(t);return r?r===e?!0:k(e,r):!1}function h(e,t=!1){if(e!=null&&!t)try{G(e)}catch{}else if(e!=null)try{e.focus()}catch{}}function H(e){let t=e[0].previousElementSibling,r=F(N(e),{tabbable:!0},e);r.currentNode=t,h(r.nextNode())}function we(e,t){const r=g.useRef(t);s.exports.useEffect(()=>{r.current&&(v=e,x(document.activeElement,v.current)||H(e.current)),r.current=!1},[])}function Pe(e,t,r){const a=s.exports.useRef(typeof document<"u"?document.activeElement:null);P(()=>{let n=a.current;if(!t)return;let c=u=>{if(u.key!=="Tab"||u.altKey||u.ctrlKey||u.metaKey)return;let i=document.activeElement;if(!x(i,e.current))return;let o=F(document.body,{tabbable:!0});o.currentNode=i;let l=u.shiftKey?o.previousNode():o.nextNode();if((!document.body.contains(n)||n===document.body)&&(n=null),(!l||!x(l,e.current))&&n){o.currentNode=n;do l=u.shiftKey?o.previousNode():o.nextNode();while(x(l,e.current));u.preventDefault(),u.stopPropagation(),l?h(l,!0):Se(n)?h(n,!0):i.blur()}};return r||document.addEventListener("keydown",c,!0),()=>{r||document.removeEventListener("keydown",c,!0),t&&n&&x(document.activeElement,e.current)&&requestAnimationFrame(()=>{document.body.contains(n)&&document.activeElement===document.body&&h(n)})}},[e,t,r])}function F(e,t,r){let a=t!=null&&t.tabbable?ge:Ne,n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode(c){var u;return!(t==null||(u=t.from)===null||u===void 0)&&u.contains(c)?NodeFilter.FILTER_REJECT:c.matches(a)&&q(c)&&(!r||x(c,r))&&(!(t!=null&&t.accept)||t.accept(c))?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});return t!=null&&t.from&&(n.currentNode=t.from),n}function De(e={}){let{autoFocus:t=!1,isTextInput:r,within:a}=e,n=s.exports.useRef({isFocused:!1,isFocusVisible:t||fe()}),[c,u]=s.exports.useState(!1),[i,o]=s.exports.useState(()=>n.current.isFocused&&n.current.isFocusVisible),l=s.exports.useCallback(()=>o(n.current.isFocused&&n.current.isFocusVisible),[]),f=s.exports.useCallback($=>{n.current.isFocused=$,u($),l()},[l]);de($=>{n.current.isFocusVisible=$,l()},[],{isTextInput:r});let{focusProps:d}=U({isDisabled:a,onFocusChange:f}),{focusWithinProps:m}=be({isDisabled:!a,onFocusWithinChange:f});return{isFocused:c,isFocusVisible:n.current.isFocused&&i,focusProps:a?m:d}}let ke=g.createContext(null);function Ae(e){let t=s.exports.useContext(ke)||{};le(t,e);let{ref:r,...a}=t;return a}function _e(e,t){let{focusProps:r}=U(e),{keyboardProps:a}=pe(e),n=_(r,a),c=Ae(t),u=e.isDisabled?{}:c,i=s.exports.useRef(e.autoFocus);return s.exports.useEffect(()=>{i.current&&t.current&&G(t.current),i.current=!1},[t]),{focusableProps:_({...n,tabIndex:e.excludeFromTabOrder&&!e.isDisabled?-1:void 0},u)}}function Be(e){let[t,r]=me(e.isOpen,e.defaultOpen||!1,e.onOpenChange);return{isOpen:t,setOpen:r,open(){r(!0)},close(){r(!1)},toggle(){r(!t)}}}export{_e as $,Oe as A,Be as a,De as b,G as c,F as d,Ve as e};
//# sourceMappingURL=module.15601152.js.map
